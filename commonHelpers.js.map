{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst startBtn = document.querySelector(\"[data-start]\");\nconst input = document.querySelector(\"#datetime-picker\");\nconst daysData = document.querySelector(\"[data-days]\");\nconst hoursData = document.querySelector(\"[data-hours]\");\nconst minutesData = document.querySelector(\"[data-minutes]\");\nconst secondData = document.querySelector(\"[data-seconds]\");\n\n\nlet intervalId = null;\nlet userSelectedDate;\nstartBtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        console.log(userSelectedDate);\n      if (userSelectedDate < Date.now()) {\n      iziToast.error({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      }); \n    } else {\n      startBtn.disabled = false;\n    }\n  },\n};\n\n startBtn.addEventListener(\"click\", handleSubmit);\n\nfunction handleSubmit() {\n  if (userSelectedDate) {\n    intervalId = setInterval(() => {\n      const currentTime = new Date();\n      const delatTime = userSelectedDate - currentTime;\n      if (delatTime <= 0) {\n        stopTimer();\n        return;\n      }\n      const time = convertMs(delatTime);\n      updateTimerFace(time);\n\n    }, 1000)\n    \n    input.disabled = true;\n    startBtn.disabled = true;\n\n  }   \n  }\n   \n    \nfunction pad (value) {\n  return String(value).padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = pad(Math.floor(ms / day));\n  const hours = pad(Math.floor((ms % day) / hour));\n  const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n  const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction stopTimer() {\n  clearInterval(intervalId);\n  updateTimerFace(time);\n  intervalId = null;\n  input.disabled = false;\n  startBtn.disabled = false;\n\n}\n\n\nfunction updateTimerFace({ days, hours, minutes, seconds }) {\n    daysData.textContent = `${days}`;\n    hoursData.textContent = `${hours}`;\n    minutesData.textContent = `${minutes}`;\n     secondData.textContent = `${seconds}`;\n\n}\n\nflatpickr(input, options);"],"names":["startBtn","input","daysData","hoursData","minutesData","secondData","intervalId","userSelectedDate","options","selectedDates","iziToast","handleSubmit","delatTime","stopTimer","time","convertMs","updateTimerFace","pad","value","ms","days","hours","minutes","seconds","flatpickr"],"mappings":"2GAOA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAa,SAAS,cAAc,gBAAgB,EAG1D,IAAIC,EAAa,KACbC,EACJP,EAAS,SAAW,GAEpB,MAAMQ,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAClC,QAAQ,IAAIF,CAAgB,EAC1BA,EAAmB,KAAK,MAC5BG,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAClB,CAAO,EAEDV,EAAS,SAAW,EAEvB,CACH,EAECA,EAAS,iBAAiB,QAASW,CAAY,EAEhD,SAASA,GAAe,CAClBJ,IACFD,EAAa,YAAY,IAAM,CAE7B,MAAMM,EAAYL,EADE,IAAI,KAExB,GAAIK,GAAa,EAAG,CAClBC,IACA,MACD,CACD,MAAMC,EAAOC,EAAUH,CAAS,EAChCI,EAAgBF,CAAI,CAErB,EAAE,GAAI,EAEPb,EAAM,SAAW,GACjBD,EAAS,SAAW,GAGrB,CAGH,SAASiB,EAAKC,EAAO,CACnB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASH,EAAUI,EAAI,CAMrB,MAAMC,EAAOH,EAAI,KAAK,MAAME,EAAK,KAAG,CAAC,EAC/BE,EAAQJ,EAAI,KAAK,MAAOE,EAAK,MAAO,IAAI,CAAC,EACzCG,EAAUL,EAAI,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,CAAC,EACtDI,EAAUN,EAAI,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAEvE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASV,GAAY,CACnB,cAAcP,CAAU,EACxBU,EAAgB,IAAI,EACpBV,EAAa,KACbL,EAAM,SAAW,GACjBD,EAAS,SAAW,EAEtB,CAGA,SAASgB,EAAgB,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACxDrB,EAAS,YAAc,GAAGkB,CAAI,GAC9BjB,EAAU,YAAc,GAAGkB,CAAK,GAChCjB,EAAY,YAAc,GAAGkB,CAAO,GACnCjB,EAAW,YAAc,GAAGkB,CAAO,EAExC,CAEAC,EAAUvB,EAAOO,CAAO"}